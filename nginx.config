# Custom 404 Error Page
error_page 404 /404.html;

location = /404.html {
    root /var/www/html;
    internal;
    add_header Cache-Control "no-cache, no-store, must-revalidate" always;
    add_header Pragma "no-cache" always;
    add_header Expires "0" always;
}

# Security headers
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;

# Common redirects
location ~* ^/(portfoli|portfolio)$ {
    return 301 /portfolio;
}

location ~* ^/(contakt|contact)$ {
    return 301 /contact;
}

# Handle trailing slashes
location ~ ^(.+)/$ {
    return 301 $1;
}
